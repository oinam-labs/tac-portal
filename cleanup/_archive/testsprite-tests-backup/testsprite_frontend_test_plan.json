[
  {
    "id": "TC001",
    "title": "Successful shipment creation with valid inputs",
    "description": "Verify that a shipment can be created successfully with all required fields filled correctly and persists with appropriate org scoping.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the shipments creation page."
      },
      {
        "type": "action",
        "description": "Fill in all mandatory shipment details with valid values including customer selection and shipment status."
      },
      {
        "type": "action",
        "description": "Submit the shipment creation form."
      },
      {
        "type": "assertion",
        "description": "Verify shipment is persisted in the system with correct org and hub association."
      },
      {
        "type": "assertion",
        "description": "Confirm shipment status is set to initial valid status and visible in shipments list."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Validate shipment status transition rules",
    "description": "Ensure that shipment status transitions follow valid lifecycle rules and invalid transitions are prevented.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create a shipment with a starting status."
      },
      {
        "type": "action",
        "description": "Attempt to update the shipment status to a disallowed/invalid next status."
      },
      {
        "type": "assertion",
        "description": "Verify the update is rejected with appropriate error message."
      },
      {
        "type": "action",
        "description": "Update shipment status to a valid next allowed status."
      },
      {
        "type": "assertion",
        "description": "Confirm the shipment status updates successfully and persists in database."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Manifest creation and shipment assignment",
    "description": "Verify the creation of manifests, the adding of shipments, and enforcement of unique shipment assignments within manifests.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to manifest creation page."
      },
      {
        "type": "action",
        "description": "Create a new manifest with valid details."
      },
      {
        "type": "action",
        "description": "Add multiple shipments to the manifest using barcode scanning or manual selection."
      },
      {
        "type": "assertion",
        "description": "Verify that all shipments show in the manifest with correct totals."
      },
      {
        "type": "action",
        "description": "Attempt to add a shipment already assigned to another manifest."
      },
      {
        "type": "assertion",
        "description": "Confirm the system prevents duplicate assignment and notifies the user."
      },
      {
        "type": "action",
        "description": "Finalize and lock the manifest."
      },
      {
        "type": "assertion",
        "description": "Verify manifest status changes appropriately (e.g., OPEN to CLOSED) and edits are locked."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Offline-first scan queue persistence and sync",
    "description": "Verify that scanning operations persist offline correctly and synchronize with backend without data loss or conflicts.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Enable offline mode on scanning page."
      },
      {
        "type": "action",
        "description": "Perform sequential scanning of a manifest QR code followed by shipment barcodes."
      },
      {
        "type": "assertion",
        "description": "Ensure each scan is queued locally with duplicate detection preventing repeats."
      },
      {
        "type": "action",
        "description": "Restore online connectivity."
      },
      {
        "type": "assertion",
        "description": "Verify scan queue synchronizes automatically, updates shipment statuses in backend, and logs scan events."
      },
      {
        "type": "assertion",
        "description": "Confirm no duplicate scans were processed and conflicts are resolved safely."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "RBAC enforcement on shipment visibility and actions",
    "description": "Verify that Role-Based Access Control strictly limits shipment access and actions based on user roles and organization context.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a user with restricted shipment viewing permissions."
      },
      {
        "type": "action",
        "description": "Attempt to access shipments outside the user’s org or hub scope."
      },
      {
        "type": "assertion",
        "description": "Confirm that these shipments are not listed or accessible in UI and API route is forbidden."
      },
      {
        "type": "action",
        "description": "Attempt shipment modification outside allowed permissions."
      },
      {
        "type": "assertion",
        "description": "Verify the system prevents unauthorized shipment modifications at UI and database level."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Invoice generation with GST tax calculation and PDF creation",
    "description": "Verify invoices are generated accurately with correct GST tax calculations, PDF is created, and resend email function works properly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to finance module and select to create a new invoice linked to shipments and customers."
      },
      {
        "type": "action",
        "description": "Fill all required fields and submit."
      },
      {
        "type": "assertion",
        "description": "Verify total invoice amount and GST tax calculations are correct."
      },
      {
        "type": "assertion",
        "description": "Ensure PDF of the invoice is generated successfully and downloadable."
      },
      {
        "type": "action",
        "description": "Trigger resend email functionality."
      },
      {
        "type": "assertion",
        "description": "Confirm the email with correct invoice PDF attachment is sent successfully."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Exception creation and resolution linked to shipments",
    "description": "Test the workflows to create exceptions for shipments, assign severity and SLA, resolve them with notes, and audit logs capture updates.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to exceptions management screen."
      },
      {
        "type": "action",
        "description": "Create a new exception linked to an existing shipment with severity and SLA defined."
      },
      {
        "type": "assertion",
        "description": "Verify the exception is listed, linked shipment status is updated accordingly."
      },
      {
        "type": "action",
        "description": "Update the exception by adding a resolution note and mark it resolved."
      },
      {
        "type": "assertion",
        "description": "Confirm status update of shipment and exception resolution is persisted."
      },
      {
        "type": "assertion",
        "description": "Check audit logs to verify all exception changes were recorded with user, timestamp and immutable trail."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Dashboard KPIs and real-time data updates",
    "description": "Ensure the dashboard displays accurate KPIs, latest activities, and analytics charts updating in real-time using Supabase Realtime channels.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to dashboard page after login."
      },
      {
        "type": "assertion",
        "description": "Verify displayed KPIs (shipment counts, exceptions, invoices) are correct."
      },
      {
        "type": "assertion",
        "description": "Check charts and analytics update according to current data."
      },
      {
        "type": "action",
        "description": "Trigger changes affecting dashboard data via another client or backend."
      },
      {
        "type": "assertion",
        "description": "Verify real-time updates reflect on dashboard without manual refresh."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Audit log captures critical database mutations immutably",
    "description": "Verify that all critical changes to shipments, manifests, invoices, and exceptions are captured in audit logs with full user and timestamp metadata and logs cannot be altered.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Perform create, update, delete operations on shipments, manifests, and invoices."
      },
      {
        "type": "assertion",
        "description": "Confirm audit logs register these changes with correct user info, timestamps, and action details."
      },
      {
        "type": "action",
        "description": "Attempt to modify existing audit log entries."
      },
      {
        "type": "assertion",
        "description": "Verify that audit logs are immutable and modification attempts are rejected."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "UI rendering across themes, responsiveness, and accessibility",
    "description": "Check that the UI renders correctly in dark and light themes with adaptive layouts, animations, accessibility features, and correct handling of loading, empty, and error states.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Toggle between dark and light themes in settings."
      },
      {
        "type": "assertion",
        "description": "Verify all pages and components update styles accordingly with semantic OKLCH tokens."
      },
      {
        "type": "action",
        "description": "Resize browser window to test responsive design on various screen sizes."
      },
      {
        "type": "assertion",
        "description": "Confirm layout adapts properly with no content overflow or clipping."
      },
      {
        "type": "action",
        "description": "Navigate to pages with loading states, empty data views, and simulated error responses."
      },
      {
        "type": "assertion",
        "description": "Verify that the UI shows appropriate messages, animations, and validation feedback using Zod schemas."
      },
      {
        "type": "action",
        "description": "Audit components for proper ARIA attributes and keyboard navigation support."
      },
      {
        "type": "assertion",
        "description": "Confirm accessibility compliance for screen readers and keyboard users."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Shipment filtering and search with multi-tenant scoping",
    "description": "Verify shipment list filters and search properly constrain results within user’s organization and hub scope, ensuring data isolation.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as user belonging to an organization and hub."
      },
      {
        "type": "action",
        "description": "Apply filters on shipments (status, date range, customer) and perform search by shipment ID."
      },
      {
        "type": "assertion",
        "description": "Confirm results only include shipments scoped to the user’s organization and hub."
      },
      {
        "type": "assertion",
        "description": "Ensure search and filters work correctly with no leakage of out-of-scope shipments."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Manifest lifecycle status transitions and validation",
    "description": "Ensure manifest status changes follow the lifecycle constraints (OPEN, CLOSED, DEPARTED, ARRIVED), prohibiting invalid transitions and allowing correct shipment grouping.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create a new manifest with status OPEN."
      },
      {
        "type": "action",
        "description": "Try to transition manifest status from OPEN directly to ARRIVED."
      },
      {
        "type": "assertion",
        "description": "Verify system rejects invalid transition with error feedback."
      },
      {
        "type": "action",
        "description": "Transition manifest through valid lifecycle statuses sequentially: OPEN -> CLOSED -> DEPARTED -> ARRIVED."
      },
      {
        "type": "assertion",
        "description": "Confirm successful updates with statuses persisted and UI reflects changes."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Shipment scan duplicate detection during scanning workflow",
    "description": "Verify that barcode scanning workflow detects and prevents duplicate manifest or shipment scans to avoid status corruption.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "On scanning page, scan a valid manifest QR code."
      },
      {
        "type": "action",
        "description": "Scan a shipment barcode associated with the manifest."
      },
      {
        "type": "assertion",
        "description": "Confirm scan is accepted and status updates accordingly."
      },
      {
        "type": "action",
        "description": "Rescan the same shipment barcode."
      },
      {
        "type": "assertion",
        "description": "Verify the system detects duplicate scan and rejects it with appropriate message and no status change."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "User authentication and role-based route protection",
    "description": "Validate that user authentication process correctly determines role and org context and restricts route access according to role permissions.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login with valid user credentials."
      },
      {
        "type": "assertion",
        "description": "Verify user role and organization context are set correctly in session."
      },
      {
        "type": "action",
        "description": "Attempt to access a protected route based on role permissions."
      },
      {
        "type": "assertion",
        "description": "Confirm access is granted or denied as per RBAC rules with appropriate redirection or error."
      },
      {
        "type": "action",
        "description": "Logout and attempt accessing protected routes."
      },
      {
        "type": "assertion",
        "description": "Verify unauthorized access is prevented and redirected to login."
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Exception SLA breach notification and escalation",
    "description": "Verify that exceptions with defined SLAs trigger notifications or escalations when deadline is breached.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Create an exception with a short SLA deadline."
      },
      {
        "type": "action",
        "description": "Simulate system time passing beyond SLA expiration."
      },
      {
        "type": "assertion",
        "description": "Confirm exception status updates to indicate SLA breach."
      },
      {
        "type": "assertion",
        "description": "Verify notification or escalation message is sent to responsible users."
      }
    ]
  },
  {
    "id": "TC016",
    "title": "Profile and application preference update with theme toggle",
    "description": "Verify that user can update their profile information and change application preferences including toggling dark/light theme with persistence across sessions.",
    "category": "functional",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the settings page."
      },
      {
        "type": "action",
        "description": "Update profile fields such as name, email, and contact details."
      },
      {
        "type": "action",
        "description": "Toggle the dark/light theme option."
      },
      {
        "type": "action",
        "description": "Save changes and logout."
      },
      {
        "type": "action",
        "description": "Login again."
      },
      {
        "type": "assertion",
        "description": "Verify that profile changes and selected theme preference persist across sessions."
      }
    ]
  }
]
