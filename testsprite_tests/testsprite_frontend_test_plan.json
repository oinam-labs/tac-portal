[
  {
    "id": "TC001",
    "title": "Role-based Authentication and Authorization",
    "description": "Verify that users of all defined roles (ADMIN, MANAGER, OPS_STAFF, WAREHOUSE_STAFF, FINANCE_STAFF, SUPPORT) can log in and access only permitted modules and UI components, with route guards and RLS policies enforcing access control.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Attempt login with valid credentials for each user role"
      },
      {
        "type": "assertion",
        "description": "Verify successful login and role-specific UI rendering"
      },
      {
        "type": "action",
        "description": "Navigate to restricted routes and modules for each role"
      },
      {
        "type": "assertion",
        "description": "Verify route guards prevent unauthorized access and UI does not display forbidden features"
      },
      {
        "type": "action",
        "description": "Attempt to access unauthorized data via API calls"
      },
      {
        "type": "assertion",
        "description": "Verify Supabase RLS policies enforce tenant isolation and role-based data access"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Shipment Creation and Lifecycle Status Transitions",
    "description": "Test shipment CRUD operations including AWB generation, association with customers, and status transitions through lifecycle stages with valid business rules.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create a new shipment with required details and linked customer"
      },
      {
        "type": "assertion",
        "description": "Verify shipment is created with unique AWB and initial status"
      },
      {
        "type": "action",
        "description": "Update shipment status following defined workflow stages"
      },
      {
        "type": "assertion",
        "description": "Verify status changes persist and disallow invalid transitions"
      },
      {
        "type": "action",
        "description": "Retrieve and verify shipment details including customer association"
      },
      {
        "type": "assertion",
        "description": "Confirm all shipment data matches input and updates"
      },
      {
        "type": "action",
        "description": "Delete the shipment"
      },
      {
        "type": "assertion",
        "description": "Verify shipment is removed and audit log captures the delete operation"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Manifest Creation and Dispatch Workflow",
    "description": "Ensure manifests can be created, shipments assigned via scanning or manual selection, and dispatch workflow stages (OPEN, CLOSED, DEPARTED, ARRIVED) progress correctly with shipment counts accuracy and no duplicates.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create a new manifest and assign multiple shipments manually"
      },
      {
        "type": "assertion",
        "description": "Verify manifest reflects correct shipment count and no duplicate shipments assigned"
      },
      {
        "type": "action",
        "description": "Perform barcode/QR scanning to assign shipments to manifest"
      },
      {
        "type": "assertion",
        "description": "Verify scanned shipments are linked idempotently without duplication"
      },
      {
        "type": "action",
        "description": "Progress manifest status through OPEN, CLOSED, DEPARTED, and ARRIVED stages"
      },
      {
        "type": "assertion",
        "description": "Ensure status transitions are valid, persist, and latest stage is visible"
      },
      {
        "type": "action",
        "description": "Attempt invalid status transition on manifest"
      },
      {
        "type": "assertion",
        "description": "Confirm transition is rejected and error handled appropriately"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Offline Barcode/QR Scanning Queue and Synchronization",
    "description": "Validate warehouse staff can scan barcodes/QR codes offline with queued scans persisting locally, and synchronization with Supabase backend occurs automatically when connectivity is restored without data loss or corruption.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Simulate offline mode on the device"
      },
      {
        "type": "action",
        "description": "Perform multiple barcode/QR scans linking shipments to manifests"
      },
      {
        "type": "assertion",
        "description": "Verify scans are queued locally and acknowledged in the UI"
      },
      {
        "type": "action",
        "description": "Restore network connectivity"
      },
      {
        "type": "assertion",
        "description": "Verify queued scans synchronize with backend and update manifest/shipment statuses correctly"
      },
      {
        "type": "assertion",
        "description": "Confirm no duplicate or missing scan data after sync"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Invoice Creation, Tax Calculations, PDF Generation and Status Workflow",
    "description": "Verify invoice creation with correct GST and tax calculations, PDF generation embedding barcode, and status workflow progression (DRAFT to ISSUED to PAID or CANCELLED) while ensuring correctness and uniqueness per organization.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create an invoice with shipment and customer billing info"
      },
      {
        "type": "assertion",
        "description": "Verify GST, taxes, and discounts are calculated accurately"
      },
      {
        "type": "action",
        "description": "Generate invoice PDF with embedded barcode"
      },
      {
        "type": "assertion",
        "description": "Confirm PDF is downloadable, barcode is valid and scannable"
      },
      {
        "type": "action",
        "description": "Progress invoice status from DRAFT to ISSUED"
      },
      {
        "type": "assertion",
        "description": "Verify status update is persisted and restrictions on edits after ISSUED"
      },
      {
        "type": "action",
        "description": "Mark invoice as PAID"
      },
      {
        "type": "assertion",
        "description": "Confirm status changes appropriately and audit log records payment"
      },
      {
        "type": "action",
        "description": "Cancel invoice and verify status"
      },
      {
        "type": "assertion",
        "description": "Ensure invoice cannot be modified after cancellation"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Exception Handling and Resolution Workflow",
    "description": "Test creating exception records with linked shipments, proper severity tagging (DAMAGED, LOST, DELAYED, etc.), and verify resolution workflow updates state across the system with audit trails.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create exceptions linked to shipments specifying type and severity"
      },
      {
        "type": "assertion",
        "description": "Verify exceptions are recorded with correct details and linked accurately"
      },
      {
        "type": "action",
        "description": "Update exception status through resolution workflow steps"
      },
      {
        "type": "assertion",
        "description": "Ensure state updates reflect in shipment status and exception module"
      },
      {
        "type": "action",
        "description": "Attempt to delete or modify resolved exceptions"
      },
      {
        "type": "assertion",
        "description": "Verify that resolved exceptions are protected from deletion or inappropriate edits"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Invoice and Shipment Audit Logging",
    "description": "Verify that all critical operations on shipments, invoices, manifests, and exceptions are captured in audit logs with correct actor identity, timestamps, and before/after state and that logs are viewable and exportable by authorized users.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Perform create, update, and delete operations on shipments and invoices"
      },
      {
        "type": "assertion",
        "description": "Verify audit logs are generated with correct operation details, actor info, and timestamps"
      },
      {
        "type": "action",
        "description": "Access audit log viewer as authorized user"
      },
      {
        "type": "assertion",
        "description": "Confirm logs are displayed correctly and can be filtered/exported"
      },
      {
        "type": "action",
        "description": "Attempt audit log access as unauthorized user"
      },
      {
        "type": "assertion",
        "description": "Ensure access is denied"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Error Handling with Sentry Integration",
    "description": "Simulate API failures and unexpected exceptions to verify that errors are captured by Sentry including session replay, user friendly error messages are shown in UI, and error boundaries prevent app crashes.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Force backend API errors for major features (shipments, manifests, invoices)"
      },
      {
        "type": "assertion",
        "description": "Verify proper error messages are shown to users and UI remains responsive"
      },
      {
        "type": "action",
        "description": "Raise unhandled exceptions in UI components"
      },
      {
        "type": "assertion",
        "description": "Confirm error boundaries catch exceptions and display fallback UI"
      },
      {
        "type": "action",
        "description": "Check Sentry dashboard for captured errors and session replay details"
      },
      {
        "type": "assertion",
        "description": "Ensure errors are logged with correct context and no sensitive data leaked"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Dashboard Real-time KPI and Data Updates",
    "description": "Verify that the main dashboard displays up-to-date KPIs, charts, and recent activities filtered by user role and organization, reflecting real-time data via Supabase Realtime subscriptions with timely resource cleanup.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Log in as different roles and navigate to dashboard"
      },
      {
        "type": "assertion",
        "description": "Verify dashboard widgets reflect correct and role-filtered data"
      },
      {
        "type": "action",
        "description": "Trigger shipment and manifest updates in backend"
      },
      {
        "type": "assertion",
        "description": "Confirm real-time dashboard updates correctly within expected latency"
      },
      {
        "type": "action",
        "description": "Navigate away from dashboard"
      },
      {
        "type": "assertion",
        "description": "Ensure realtime subscriptions are terminated properly to avoid resource leaks"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "UI Loading, Empty, and Error States on Paginated Tables",
    "description": "Validate that paginated tables and forms (shipments, manifests, invoices, customers) display consistent loading indicators, empty states when no data is present, and error states with retry options when API calls fail.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Load paginated table with valid data"
      },
      {
        "type": "assertion",
        "description": "Verify table displays data and normal pagination controls"
      },
      {
        "type": "action",
        "description": "Simulate no data scenario by filtering to empty result set"
      },
      {
        "type": "assertion",
        "description": "Confirm empty state message and UI elements are shown"
      },
      {
        "type": "action",
        "description": "Simulate backend API failure on table data fetch"
      },
      {
        "type": "assertion",
        "description": "Verify error message with retry button is displayed and retry triggers re-fetch"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Customer Management CRUD with GSTIN Validation",
    "description": "Test full CRUD operations on customers including validation of GSTIN, addresses, and billing information, ensuring data correctness and proper error feedback on invalid inputs.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Create a customer with valid GSTIN, address, and billing info"
      },
      {
        "type": "assertion",
        "description": "Verify customer record is created and data stored correctly"
      },
      {
        "type": "action",
        "description": "Update customer details with valid and invalid GSTIN"
      },
      {
        "type": "assertion",
        "description": "Confirm updates succeed with valid data and reject invalid GSTIN input with proper error messages"
      },
      {
        "type": "action",
        "description": "Retrieve and verify customer data"
      },
      {
        "type": "assertion",
        "description": "Ensure retrieved data matches stored information"
      },
      {
        "type": "action",
        "description": "Delete customer record"
      },
      {
        "type": "assertion",
        "description": "Verify deletion is successful and audit log entry is created"
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Shipment Internal and Public Tracking Event History",
    "description": "Validate internal and public shipment tracking modules display comprehensive event history with timestamps and statuses, ensuring data security and role-based visibility.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access internal tracking page and select a shipment"
      },
      {
        "type": "assertion",
        "description": "Verify full event history with accurate timestamps and status changes is displayed"
      },
      {
        "type": "action",
        "description": "Access public tracking interface with valid shipment identifier"
      },
      {
        "type": "assertion",
        "description": "Confirm event history is visible with appropriate limited data for public users"
      },
      {
        "type": "action",
        "description": "Attempt to access restricted tracking data publicly"
      },
      {
        "type": "assertion",
        "description": "Ensure unauthorized data is not exposed"
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Inventory Management CRUD and Aging Analysis",
    "description": "Test creation, update, retrieval, and deletion of inventory items with bin locations and verify aging analysis reports display accurate stock aging metrics.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Add new inventory stock item with bin location details"
      },
      {
        "type": "assertion",
        "description": "Verify item is created with correct attributes"
      },
      {
        "type": "action",
        "description": "Update stock levels and bin locations"
      },
      {
        "type": "assertion",
        "description": "Confirm updates are persisted"
      },
      {
        "type": "action",
        "description": "Request aging analysis report"
      },
      {
        "type": "assertion",
        "description": "Verify report shows correct aging metrics and highlights aging stock"
      },
      {
        "type": "action",
        "description": "Delete inventory item"
      },
      {
        "type": "assertion",
        "description": "Ensure deletion succeeds and audit logs are updated"
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Management Module Staff and Organization CRUD with Authorization",
    "description": "Validate that ADMIN users can create, update, and delete staff accounts and organizational data with role assignment and that non-admin users are restricted from accessing these functions.",
    "category": "security",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as ADMIN user and create new staff user assigning role"
      },
      {
        "type": "assertion",
        "description": "Verify staff user is created with assigned role"
      },
      {
        "type": "action",
        "description": "Update staff user roles and organization details"
      },
      {
        "type": "assertion",
        "description": "Confirm updates persist and roles enforce correct access"
      },
      {
        "type": "action",
        "description": "Login as non-ADMIN user and attempt access to management pages"
      },
      {
        "type": "assertion",
        "description": "Ensure access is denied and UI does not present management features"
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Accessibility Compliance Testing for Major UI Components",
    "description": "Verify that all major UI components including forms, tables, buttons, and dialogs comply with accessibility standards (keyboard navigation, color contrast, screen reader support).",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate through UI components using keyboard only"
      },
      {
        "type": "assertion",
        "description": "Verify focus indicators and logical tab order"
      },
      {
        "type": "action",
        "description": "Use screen reader to interact with forms and buttons"
      },
      {
        "type": "assertion",
        "description": "Confirm all controls have proper labels and announcements"
      },
      {
        "type": "action",
        "description": "Check color contrast of text and UI elements against WCAG guidelines"
      },
      {
        "type": "assertion",
        "description": "Ensure contrast ratios meet or exceed minimum standards"
      }
    ]
  },
  {
    "id": "TC016",
    "title": "API Error Handling and Retry Logic",
    "description": "Simulate transient API failures and verify client side retry logic triggers appropriately with backoff and errors are surfaced to user only after retries fail.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Mock backend API calls to intermittently fail"
      },
      {
        "type": "assertion",
        "description": "Verify client retries calls automatically with appropriate intervals"
      },
      {
        "type": "assertion",
        "description": "Ensure UI loading state persists during retries"
      },
      {
        "type": "action",
        "description": "Force final failure after retries"
      },
      {
        "type": "assertion",
        "description": "Verify user sees clear error message with option to retry manually"
      }
    ]
  }
]
